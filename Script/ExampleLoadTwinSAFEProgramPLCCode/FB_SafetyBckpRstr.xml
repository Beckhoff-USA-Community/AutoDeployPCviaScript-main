<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Beckhoff Automation GmbH" productName="TwinCAT PLC Control" productVersion="3.5.13.21" creationDateTime="2023-01-20T09:34:25.9600499" />
  <contentHeader name="PLC1" modificationDateTime="2023-01-20T09:34:25.9600499">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes />
    <pous>
      <pou name="FB_SafetyBckpRstr" pouType="functionBlock">
        <interface>
          <localVars>
            <variable name="_fbSaveLogicProgram">
              <type>
                <derived name="FB_SAVELOGICPROGRAM" />
              </type>
            </variable>
            <variable name="_fbRestoreLogicProgram">
              <type>
                <derived name="FB_RESTORELOGICPROGRAM" />
              </type>
            </variable>
            <variable name="refEcNetId">
              <type>
                <derived name="REFERENCE TO ARRAY [0..5] OF BYTE" />
              </type>
            </variable>
            <variable name="refBuffer">
              <type>
                <derived name="REFERENCE TO ARRAY [0..16#FFFF] OF BYTE" />
              </type>
            </variable>
            <variable name="nEcPort">
              <type>
                <WORD />
              </type>
            </variable>
            <variable name="sFileName">
              <type>
                <derived name="T_MaxString" />
              </type>
            </variable>
            <variable name="sNetIdRWFile">
              <type>
                <derived name="T_AmsNetID" />
              </type>
            </variable>
          </localVars>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml" />
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="RestoreLogicProgram" ObjectId="d22b345d-d03e-4b3b-b436-9ffb556e9518">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="bExecute">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                </inputVars>
                <outputVars>
                  <variable name="stTcOutputsSafetyRstr">
                    <type>
                      <derived name="ST_TcOutputsSafetyBckpRstr" />
                    </type>
                  </variable>
                </outputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">IF __ISVALIDREF(refBuffer) AND __ISVALIDREF(refEcNetId) THEN
_fbRestoreLogicProgram(
	bExecute:= bExecute, 
	au8EcatNetId:= refEcNetId, 
	u16EcatPort:= nEcPort, 
	u32BufferAddress:= ADR(refBuffer), 
	u32BufferSize:= SIZEOF(refBuffer), 
	sFileName:= sFileName, 
	sNetIDReadFile:= sNetIdRWFile, 
	Done=&gt; stTcOutputsSafetyRstr.stTcGeneralOutputs.bDone, 
	sResult=&gt; stTcOutputsSafetyRstr.sResult, 
	bErr=&gt; stTcOutputsSafetyRstr.stTcGeneralOutputs.bError);	
END_IF
</xhtml>
                </ST>
              </body>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="SaveLogicProgram" ObjectId="e0a7e2d0-249b-4d1d-b347-1db91006311c">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="bExecute">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                </inputVars>
                <outputVars>
                  <variable name="stTcOutputsSafetyBckp">
                    <type>
                      <derived name="ST_TcOutputsSafetyBckpRstr" />
                    </type>
                  </variable>
                </outputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">IF __ISVALIDREF(refBuffer) AND __ISVALIDREF(refEcNetId) THEN
_fbSaveLogicProgram(
	bExecute:= bExecute, 
	au8EcatNetId:= refEcNetId, 
	u16EcatPort:= nEcPort, 
	u32BufferAddress:= ADR(refBuffer) ,
	u32BufferSize:= SIZEOF(refBuffer),  
	sFileName:= sFileName, 
	sNetIDWriteFile:= sNetIdRWFile, 
	Done=&gt; stTcOutputsSafetyBckp.stTcGeneralOutputs.bDone, 
	sResult=&gt; stTcOutputsSafetyBckp.sResult, 
	bErr=&gt; stTcOutputsSafetyBckp.stTcGeneralOutputs.bError);
END_IF


</xhtml>
                </ST>
              </body>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="Buffer" ObjectId="1023c9f6-d6ab-40f2-bc83-fe2922175002">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO ARRAY [0..16#FFFF] OF BYTE" />
                </returnType>
              </interface>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">refBuffer REF= Buffer;</xhtml>
                  </ST>
                </body>
                <addData />
              </SetAccessor>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="EcNetId" ObjectId="161028c3-1fb7-45a5-9041-763cb1409783">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO ARRAY [0..5] OF BYTE" />
                </returnType>
              </interface>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">refEcNetId REF= EcNetId;</xhtml>
                  </ST>
                </body>
                <addData />
              </SetAccessor>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="EcPort" ObjectId="1d4f7051-b02d-4448-bb21-027d2e1807f8">
              <interface>
                <returnType>
                  <WORD />
                </returnType>
              </interface>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">nEcPort := EcPort;</xhtml>
                  </ST>
                </body>
                <addData />
              </SetAccessor>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="FileName" ObjectId="8a4fe82e-fcc3-4fe8-aa7d-0870ff9cec33">
              <interface>
                <returnType>
                  <derived name="T_MaxString" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                  </ST>
                </body>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">sFileName := FileName;</xhtml>
                  </ST>
                </body>
                <addData />
              </SetAccessor>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="NetIdRWFile" ObjectId="97f4b3fd-bfb9-4f0c-b8b2-55729291d6b9">
              <interface>
                <returnType>
                  <derived name="T_AmsNetID" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                  </ST>
                </body>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">sNetIdRWFile := NetIdRWFile;</xhtml>
                  </ST>
                </body>
                <addData />
              </SetAccessor>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>287fdb8f-1f76-486d-a720-ba86ee113b71</ObjectId>
          </data>
        </addData>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Object Name="FB_SafetyBckpRstr" ObjectId="287fdb8f-1f76-486d-a720-ba86ee113b71">
          <Object Name="Buffer" ObjectId="1023c9f6-d6ab-40f2-bc83-fe2922175002" />
          <Object Name="EcNetId" ObjectId="161028c3-1fb7-45a5-9041-763cb1409783" />
          <Object Name="EcPort" ObjectId="1d4f7051-b02d-4448-bb21-027d2e1807f8" />
          <Object Name="FileName" ObjectId="8a4fe82e-fcc3-4fe8-aa7d-0870ff9cec33" />
          <Object Name="NetIdRWFile" ObjectId="97f4b3fd-bfb9-4f0c-b8b2-55729291d6b9" />
          <Object Name="RestoreLogicProgram" ObjectId="d22b345d-d03e-4b3b-b436-9ffb556e9518" />
          <Object Name="SaveLogicProgram" ObjectId="e0a7e2d0-249b-4d1d-b347-1db91006311c" />
        </Object>
      </ProjectStructure>
    </data>
  </addData>
</project>